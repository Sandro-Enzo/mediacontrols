(()=>{"use strict";var t,n=(t=function(n,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},t(n,o)},function(n,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=n}t(n,o),n.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)});const o=function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return n(o,t),o.prototype.visibilityChange=function(){},o}(Option);var e=function(){var t=function(n,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},t(n,o)};return function(n,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=n}t(n,o),n.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const r=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.muteOnLeave=function(){var t=n.getMuteButton();t&&t.click()},n.getMuteButton=function(){var t;switch(window.location.host){case"www.twitch.tv":t=document.querySelector('[data-a-target="player-mute-unmute-button"]');break;case"www.youtube.com":t=document.getElementsByClassName("ytp-mute-button ytp-button")[0];break;case"f1tv.formula1.com":t=document.getElementsByClassName("bmpui-ui-volumetogglebutton")[0];break;case"www.netflix.com":(t=document.querySelector('[data-uia="control-volume-high"]'))||(t=document.querySelector('[data-uia="control-volume-off"]'));break;default:t=null}return t},n}return e(n,t),n.prototype.visibilityChange=function(){this.muteOnLeave()},n}(Option);var u=function(){function t(t){switch(t){case"normal":return new o;case"league racing":return new r}}return t.prototype.visibilityChange=function(){},t}();const c=u;var i;chrome.storage.sync.get("mode",(function(t){i=t.mode})),chrome.storage.onChanged.addListener((function(t){i=t.mode})),window.addEventListener("visibilitychange",(function(t){var n=new c(i);n.visibilityChange(),console.log(n.constructor.name),t.stopPropagation()}),{capture:!0})})();